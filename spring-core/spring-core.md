![]( data:image/png;base64,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)

## Spring Core Introduction

Gabor Bata

November, 2016

---

### Introduction to Spring
* Open source application framework
* Modular (MVC, AOP, Integration, Security etc.)
* Extendible
* The most popular framework
* De facto standard

---

### Core Container

The Core Container consists of the following modules:

* **spring-core** and **spring-beans**<br>fundamental part: IoC, DI, BeanFactory
* **spring-context** (ApplicationContext)<br>it is a medium to access any objects defined and configured
* **spring-context-support**<br>provides support for integrating common third-party libraries
* **spring-expression (SpEL)**<br>language to query/manipulate objects at runtime

---

### Inversion of Control (IoC)
* Is an application development concept
* Hollywood Principle: *Don't call us, we'll call you*

> In software engineering, inversion of control (IoC) describes a design in which
> custom-written portions of a computer program receive the flow of control from a generic, reusable library.

---

### Dependency Injection (DI)

Is a form of IoC

> An injection is the passing of a dependency (a service) to a dependent object (a client).
> Passing the service to the client, rather than allowing a client to build or find the service,
> is the fundamental requirement of the pattern.

Two major variants: constructor and setter injection

---

### Benefits of IoC/DI
* Minimizes the amount of code
* Makes the application more testable
* Promotes programming to interfaces
* Loose coupling with minimal effort
* Supports eager instantiation and lazy loading
* Provides control over object lifecycle

---

### Spring IoC container

Create objects, wire them together, configure them, manage their lifecycle from creation to destruction.

![]( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiwAAAGrCAYAAADjKswUAAA6XklEQVR4AezZA5ClRxiG0W94x45t27Zt27Zt27Ztm6XYtr1m527HTpb/bs6pese8mqd6AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABghaIuIBf9xZtYWIwwAC0ZE+vuZWalUejBGLADBcsABy6YHHtjldzOzDTaY6+doaW5uviAAGGHBkh+YUzrrdzOzE05YPUVEWnjhhX+KlnMiojoAECxmBQuW8vMT0imnnJKqqqoGNjY2Xh0RdQFA0YLFTLAMcskll6Ta2toBdXV1tzlpAShisJgJluyGG27IJy3laLnLSQtAEYPFTLBkt9xySz5pKZVKj0ZEVwBQsGAxEyzZAw88kNra2vqVw+XJiGgKAAoWLGaCJXvkkUdSQ0PDgJqamuedtAAUMVjMBEv29NNP55OW6urq1yJi3ABAsJgVLFiyl19+OY0xxhh9f4yWMQMAwWJWsGD5OVo6Ozv7VlVVvRcRkwYAgsWsYMGSvf3222n88cfvXVlZ+WVETBsACBazggVL9vnnn6fJJpusVzlaPo2IGQMAwWJWsGDJPv744zTllFP2rKio+CYi5g0ABItZwYIl+/rrr9Mss8zSPSL6iRYAwWJWxGDJ+vXrl6OlfNLSPSKWDAAEi1nBgiXr1q1bmm+++b4tR0vviFgzABAsZgULlqxXr15p2WWX/SoiUkSsGACMLMFi/fqdkfr0OW2k+9qCZfAttthi3/wYLRvGqAFAsHTrdnLq6mpK22yzYOF+tvLPlH+232/iibvSKqvMnG67bbs//bwPPjgqbbXVAqm1tT5FRF5jYyltvvl86c03DxuMy2Rwv/bgb7rpxknrrz+nYBlMq6666pc/Xj97BjBqQLBERBH/OOafKSLSuuvOkV/+aautNksaffTm/L5TTlnzN5/z+ON7pPb2hlQqVaeNN54nXXrpxunyyzcdFBT5bc3Ndemee3b895fJUP7a/3Zjj92WVlpppv9VsCywwAI5WobWJplkkl4/Rss1EdEWwDCEYBEsf/pvly++OD6NP35HPt0YMODMn99WPhnJf+xffPHAP3zO668fksYdtz2HRfmk5N9fJoP/tf/9BMuw3oIBjHoQLL16nZquvnrztO/37NwDrHZJDAbgtW3btm3btm3bth2sbdv2brS2FSezeYLJ95+96J773WWbNEe978ztj77TaeewVWyNlGuu2bp8+eWp9ftzzx1Ubr99lx4x77xzV9/DWG0IC91uu8WK7y+8cHDxfOCBK3ruM8vx2GP7sjGPqE+6ht3Ue+/doxxyyMoUbj+EJe7Hl146pJx00jpsZIFa29D779/TeNS9d3GsoH744QlIy6DollsunITlvyopKSlJWF599bBiy2X44YctK644a1lgganKsMMOI3vg2xCrYs/N4OP9qaeuG8ZqSVhsy/heMx5qW6aaalz3feqss04iWxL3SRex6ddfn8YPxiiLLDJtmXfeKd2XNdecs1fCEvXjUUetDqvMOedkZdVVZ1drIwtVHnlkn7AN/emns8sSS0zPriy00DRlscWmc1+WWWYm/oli/e3q310SlpSUlJT/KGGZe+7JiwD9/fdnDhEwBchNNlmgBl3P+++/gueqxxyzhvdW2WGsFoQFhnoS2LVjh20N8gFcQTngk65iU7/3yCMPX5566oD67uKLNyt+7rLLtmgSlrAfzduzbEjn7zL99BP4+bANVTekLueJJ/brzKrVAuMg1uBpEpaUlJSUJCy2GmzrNG1lDjqzAO4F1k4bwcpKO4wVCP4rrzwbzKozzzyx94K+lXy4FqexlSQYB3zSXezffju3CPK7775085vuIz/XICxxP3788UnG/gP2m28eiUCGbZCivuYoy4PEBbAGV5OwpKSkpGQNi4CkZkEXzL77Lo80sEMYOmswvEMa6grc88037xTHakFYBHKr+vffP6baysKwrVmbAK4sUcAn3cSuPrvuuu3jRbdxP9Z3too22mh+REfBsG9hG8TI96WWmgEB69S6TaReJ4A1aJqEJSUlJSUJi2CqFqEGIgHxiCNWq/dsqO6ciSYaQy2J57Lnnsta8Xsfx4pvCUU6a5xf0q+d+g/ZmYBPuo7t7BjYt966c4SwtPkzsb2kzkUmhL1sia26qI251foac+hBFdoGsJKwpKSkpCRhaaE6UayQdZt0FFf6zxzpqEWzAg67ZnuumpEmydDhoq4BqUBWkBbv41jdIyzGZl87lHpQBbpsttpqkaBP2mP3pM5yYXPFFVs2v6lpgd8kLK39KCODICmaNebrrx8esalZIB0/Eb8HxotrEpaUlJSUJCwCkLkISB1tq7Wrp2N1rX3Wc1WnuPawjWNbprbyNoNUHKsrhEUwl3FQnNpjDYWtCl08iknffffooE/aY/ekMhIyJTISHe8r4VPs2iQsQT8iXz0dXmeLjh0yEbFBPJBQHUE9dWaZm1qcCFYSlpSUlJQkLH9eBVoBVXuu4KcWQgC2ehdkOwmI+oXPPz9FgBWQyowzTijlb5XfxLV1AFd7rmcax+oeYalkw5aMzINtCUSEIh8Cba0fifmkPXbgoDQdVoiQzIzCWWMifE3CEvSjrazaOaWuCKmQ0dGxY+tOFiliA+uEE9aq2SLj89Nxx63pncLb8HhJWFJSUlKSsLRSh71ZyZsTdbZHs0j2wgs3FcSrjeCpTsG2iABZz+FotOSeffaGnttjDZywUERDsEcA6rjuFYhqBY77pB12QBECWYyK4ZRcGYkea1jifkQYdGpVO+qMlDq3mA1FxGrdDDWO8WRg4lhJWFJSUlKSsLRTK3QBRfup+17rEbTY1k6cuMaxBv/3dAouNYf2PmmPHR2z636UiZH10K00EBtzlAFCTIw/EKzf2bsL2LayLI7DJ+85bUiqo7iLKSzzMOMyMzMzM++WxLTMzMzMzMzMMMzQNk5z997IlsoYJ6+r7zv6F9wRDMTzm9jNCBYAwWJmggVAsJgJFgDBYmaCBUCwmAkWAASLmWABECxmJlgABIuZYAE4eILFzAQLgGAxEywACBYzwVIACBYzEywAgsVMsAAIFjMTLACCxUywACBYzAQLgGAxM8ECIFjMBAuAYFm37s7lydMOk33qU09OL3vZfXdZedxfn8Nn5eNOsAAcQLAs6czs5rFXALTzbn7YzZ6el9atW5e+9rWvzX8fEWVP99fmsFw7/n8B4L1HX0tF+d5/qQMAggUAQLAAAIIFAECwAAAIlv0DAAgWAADBAgAIFgAAwQIAIFgAAMECACBYAADBAgAgWAAABAsAIFgAAAQLAIBgAQAECwCAYAEABAsAgGABABAsAIBgAQAQLAAAggUAECwAAIIFABAsAACCBQBAsAAAggUAQLAAAAgWAECwAAAIFgBAsAAACBYAAMGynwAAwQIAIFgAAMECACBYAABaCxQsrQAAGIB2L0K6eZ2DDJZ23uber10tAAAWWCsv9XZW3s0PMFhOy/tTXuqtHQAAC+2GN7zh6yMijY+Pz/Si42V5rb0FS+/XN+V1x8bGtpbH16xZ8+EAABiQ69Z1Pff85z8/Pec5z5mPj6GhoZ9HxOP3ECyPzr/+/fLjxzzmMZe9+MUv7j9+UgAADMpVr3rVX05PT6fNmzenb33rWyn/uP/Zlt0FS+p0Ot0vfelLqdvtprVr16apqal/D/RNtwAAIyMjD4qI9LGPfSwVF110UTr22GPnymO/+93vUvGnP/1pPlaOPPLIubPOOisVn/vc5+Yfa7fbTwsAgAEbyTbf/e53T9u77LLL0vbKZ2DKZ1X67n//+6dWq9X1ZlsAYFHkl3VemaMl/etf/0r747zzzksTExNpcnLygwEAsEhuWt58u27durQ/XvWqV/nKtwDA4ut0Or++7nWv23/ZZ6/yb4cun2H5pzfbLjYA8EaWh/V/Z9DefO9730sRUd6/8swAAFhkE+XNtw9/+MPT3jz+8Y9PVVVti4hOAAAstvwyzxuXL18+V35r8+6Ux1esWDGX/5iPBwDAEjkqL73uda9Lu1Mej4iy2wcAwFIZHR393UknnZR2pzy+bNkyX9kWAFhyj9/+q9z2lZ9HRNnzAwBgibXrup55+tOfnrb37Gc/u/yPEWcjYjoAAJZaVVXvn5ycnO1/ef7yZflXrlw5m4Pl89EQAACn5aU3velNqXjXu97Vfzno7tEUAADDw8N/OuKII7al7Pa3v32q6/rciBiJBgEAeH5e+tSnPlViZS4iXhYNAwAw3XuTbertqJgHALTybpp380bMfpCXcrj8zV+Lxuw4L80BLJ2JvFdVVXVJRKQ9z8yqqroiIt6U1wkAFs3aqq7+GhHptve77dy6t61Lb/jaG3YzMysfH7e9/21TVVdzdav+V0SsDQAGbqIerv80uXJytjwZ/9g5t1/3tu+9LU1dbarbi5ZOADBQr8pLYsW5g4uW8pmWiHhTADAwrfKelfIy0EE9XTvnystD/fe0jAQAA3HTvPKa/EE+VTvnysdPRJQdFwAMxM29HOTcIV35+OkHy80DAMHinGBpOgDB4pxgARAszjnBQjvv5gs8s3YgWJwTLCz0k+ICz+xzgWBxTrCw0E+K69bdOX3ta886pJk97GEnbx8tTw4Ei3OChYV8Uiz/sknpDYc0s5e97L4pItKaNWu2le/znh40MFicEywIFhMs+fuXpSc/+clbek8UDw+aGCzOCRYEiwmW4sEPfvDWoaGh2Yi4e9DEYHFOsCBYTLB0u910j3vcY6Y81shoESzOCRYEiwmWvjvf+c4zVVVtjYhbB00MFucEC4LFBMvmzZvTLW5xi26OlisaGS2CxTnBgmAxwVJcdtll/WjZGhEnBU0LFucEC4LFBEv/My3HH398t67rSyPipkHTgsU5wYJgMcFSXHTRRelGN7rR7PDw8PkRcVTQtGBxTrAgWEywFGeddVY64ogj+tGyNmhasDgnWBAsJlj60bJ69eptIyMj/42Ijg9FweKcYOF/7J0FjBxHs4ADpiPzbw4ZYyVm5QzvjL+Zmd6FnQtcHDOdHDOjwszMii7MDAY5zMzMnNj15tO7kjTXs7u3t7vO7ri61brdnobq2Sj1uaq6O/TAMm1agdSvnyuNGtWU338/N2K7QYOOENoVF/ep1DxPPDE3qXK3adNQjjmmW+KyZCCwkN5//32pV6/enqysrPe9fs32sxRmYLFs2YDFkgHL5MlHCeugXHvtCYFtPvponbapFCScddYk+iZVbuBpzJhOicuSocBCev3116VJkya7s7Oz3wm9pcWAxbJlAxZLBizVq1cRLBajRnUIbLNx4zg59NB6lQYWrDLpAizIEhZgIb388suCpSUvL+81r3+N/SwZsIQ5WzZgsWTAsmTJcKla9cBAt1CnTgfJ4sVDIwLL/ffP4DmFz75n27YtkiFDjhT63nHHqbJjR4noM+a6+eYioR8gcfXVx8sXX2x0xqcd1h9t8+ef57nAEnm8RGRJe2Ahbd++3fsNqyu05O4X1mTAYtmyAYslA5bXX18e6BZ6880VQv2rry5zgOXHH8+SXr1aCfXdujWXgoKWwud+/Q6Xn38+W2NkGJ96XwzMrl2LpUGDPAGSiI/Jzz9UDjzwAMnLqyE80zk++GCNNG9eX3jWv39badKktnTo0Ix2CiwVGS8RWdIeWBRacnJy9tStW/d5s7QYsFi2bMAS2mTAwud27Zo6bqFly0ZQz2cHWAoLu9LXF8T63HMLPcVZXYqKekZ1w2C1AUS++26rDzoAhalT80Xr+vRpLcDE22+vFL7v3n2hnHDC/zAewBLHeAnIkgHAQnrwwQcFS0vDhg0f8saqYsBiwGLZsgGLpVACy4oVIx23ELEt1JcHFpQ7Cn369L7OmKee2ptx5O+/L4gICbhcSkuLA2NTFJrefXc1/WTNmtG+Nr/+eg7jAyxxjZeILJkALKRbbrlFqlSp4sle/4kMgJb68VqDDFgsWzZgsWTAghXD5xZ68cUz+Q44lAcWFDzfsYDgavEVdRM99ticqIGuAA0xL9dfP03mzBmg8SUybFg7nhNnwvdAmMDtBLDEM14ismQKsJBKS0uBFmnWrFlpmkOLlJW1Fb5uwIDFsmUDFksGLOoeUatCSckQYlP47ACLwkSPHi0Ah8BCUGskSLjxxpOkVq0s6okVAQwI/NXP2obnTiAvhTbMEc94iciSScBCuuKKK4AWadGixfVpDC3fs2Yt3uWOL3p/j4tpdTFgsWzZgMWSAQvuF3ULHXxwXdm8eUIgsNx77xlqjYl7KzGBtLiTsMR88sl6X9s6dbIVEuTuu6fTT2677RRnTEAKYIlnvERk2VvA0rt3b6AlKaWgoIAxPRir9ZL3t/Z+6Zdq77///h9Uq1Zt98KFC6Vx48b/IK9X94f394qI9yUZsFi2bMBiyYBF40ZmzerPX5R4ELDgQiG4FtdM+TEJimU3D7EmfCfOhb4EzPqsM2wj5nv5uYEEnSMrqyoyOgfZARkASxzjJSTL3gKWFJZ0/Z9OAfLNnDnT+73/FmJwxo0bt8e7lXpPmdyve2Um27XDCizP/vmsPP/388kf2dZp2YDFUpiBhdKlyyHC2rA68D0IWNQaQ91xx/UQtj9zbsmqVaOEOgJvtd2llx4j1PHsqafmC201/uWzzzYI8PDggzMJ8MW645tXx+N8lK++2sQuJLY1+4AljvESkiWVBUsP0JLscuyx3TPhfzrEsLDLyXf1wMqVK6Vly5Z/lcn/u1du8Ur/MABL6QelMuyYYVI9q7ooVNZtUFcK5xTK4z8+ntS5Bk4eSPlX1nnnu3fK2KKxkp2XLbrO2vVry7ELjpUnfn4i5fNf8sQlmfPODFjiT5YMWDjZlrVddFFhVGDRthr/QUHJz5jxX6wjPmXMSbkKBtRdcMH/Mq/2wyLDfPRlDD3HRbdWU6dtseD4YljiGC9hWTKt8N9nBvxPp0pWVtZL3nbsPd9//72UT/fee6+MHz/+T2/LtsILVpdlXmmWicBy32f3CXBSs05NAVBWXL1Cll25TFCQyN2mUxusEUmbr9+4fpS9vs7zHzxfABXWOXXWVFl9/WphrcjCOlt3aJ1SaJl71lzmScY7M2CxZMASloJVgoPlnnlmgYJKYMFFRFv9TlvOcMHKEWsObfvNN1titnHHS1yWEAALbpU+aVymIWfHjh0lUgJm1q5dK82bN/+5bE1/l1ldxgM9mQIsJ5ScIMh3w4s3OM9mb50tPFt0waKMVnZAGaDS5NAmfHaesz7WOWXGlJTJMLF4YhmwWDZgsWTAYiWTgCVjys8//yyx0q5duzzr4OSfvYDdP8v6cWv1Sq8cnu7A0n9Cf6lWvVrgM2I8sDzM2jxLtO6ypy6Ta3ZcIw9/87DMP2e+TJo+SdbcuEa27d7Gc1+763ddL7e/ebvgcsGiQZvLn7mc4oz3zO/PCOOg2EsuKpEHv3rQkYc2jEObMy89U3BXXb3tasaIukYsKvwGWFkitWnbpa0c1e8op35r6VZB/hMXnyhn33u21sclPzL2GNJDkGHTHZto71vTupvXCePTF6vPA1884JsjkXdGPvf+cxmfwmfqKvJbGbBYMmChWDFgWbp0qff90bQu3EAdT/r999/l8ssv3+1ZXXSLNGVHOgPLKStOEeQ7Zt4xKMCY7fP750uXPl3kP03+I7iL+o7pK1WqVpGW7Vr6FCbtCoYVECPC+LTB5UIdxdcOZX5wq4MlKydL+Et7LCK3vn6rL86mafOmcoAXLwZYNDq4kTRo1kCOyD+CMaLKjKzIEc97ARpYH7K069ZO9HP7Hu3lke8eiUv+0dNGC1CoMTMABvVAAu443k33Qd1ZC+vDdcUznaPS7wyg69yrs+gaOhZ05DPvj98i1m9lwGLJgMWKAQsFIAhzevbZZ0V3F6UzsKCYUMKqqHqN6CXFa4r5F31EYFHA0TqUK4pzaOFQpx1xMcyBlSGS8qVd0bIi0X/VX/zYxdSh6LUdihfl7lPIWHdoFwVYsBLRBrCK672g1AGHK5+7UrTuwkcuBDyIJ4lb/iCXEBAEhCkA6bsEWgZPHcz3RN4Zvwfy+oJ9WQ+/FcHHMX6rMAOLJQMWK1YMWN5++205/fTTJTc3V1hnnTp1fvACdNN5lxBKD5cCShpo0d8IywTxHQ6wUF9+DOI/ULRqpaEdilGfR1O+ubVyy7dDkQNPfAZSkIeYGkduIIYxogEZfePYZaPzYX2K6F6655N7Kix/BGDB/YPLyemLpaP3qN6JvDMgiN8DqHPajT91PL8zMBfptworsFgyYLFixVxCbIMePHiw1KhRo2x3V5Nns7OzR3mf/5tB57CgxIj1IJYBMGEtWFx8yjJI+RNLQVuN86Adbo4KAIvve0C9jh0Uf4HlJOkWFmJK6HPW3Wc5z4hB4RmgUQH5XWBx5WNdxI1g4dBYF/om8s6Qj3Fw32F18RV1E2GVifxbGbBYMmCxYsCSUYW4lEiJZxdccAG7iWgLrPxer169Kwi2zYBdQihLAi7VWuBkYiAOaXMIsRE+pciZLeXbbrhtgyp5V6kmBixYIiIFzRI0HDOGhd1BxLtEa4MrBiXPO1l57cqI89FGg2cTBRZADEsJ9bifaH/SkpP4nCiwIJ/G3ABrQYXAXaefAYslAxYrVjJ0WzMn3pZLHCSHhYhbqMvufMr72rsrqYQbnzPoHBZ1l+AiiNhmxHEjaONTikHWClxKtLvp5ZuSDSwKCUCR0w5rQSxgwV1FfxR0lGBiXCgE26LsI86HJUQtSQkAC0HEzIf8DjACiAkCC/IxH/AV9d0YsFjal4CFe36innfy55/n8fxfOY+FuYOfW+EAusi/ix0c16BBg91ff/21D1S2b9/O9mUucmQNxKns1HNXMvSkW7YtE7+goOHLT/36lGBhOaztYT7lxom45U/AZQeKWjGSDCxYPbBEEJ8RGGtC2xgn3BJ8ytZlIC2idUiDhlkbMBF0WJuuH5niABYNENYgWYUi3E+OrMlwCSEfv2vQVu2RJ4zE3cfva8Biad8BFo6mb9Sopvz441nO3TdFRT2FG4aRi1K/fq4sWDAIRblXTszluHzmnTNnAN8p6QwQHBTn+55qmfktCgu7GrBEOJqfE21JWFiuueYa6datG3IDK397QHOd9/nIENwlhEsIBYxCZ+cIbgqUKWevsF3WieVAuWlsxM2v3ox1AAsNdbhukg0sjgUHiAAwCAau16geIBMLWMic20J/3EOsDQsElhu1fLBN2rctmzNLdOcMa8Qiouucvm563PLr/KetOo13zpkn+h45zA6QwQUFIBIQi+Ul0XdG7BFzYCVjPqxHzO9Y1UIPLJYMWLBgtG3bWM46a5KvnrtvABVuF+bSwuuvnyZXX328jBvXWZCRu3dSCS16qzLKmEsEgSfmpqQprPAOkdlXl2qZgUx+I96XGLBoKvBuZ/5nxowZWFe4P8gD8kaCzN6hcN96sLKEI/hDdlszp9zyL3GsCvr76LH8bOV1lCJtiR3RdrgwdDdRqoCFvOTyJVh7UOjAFN8JFq2osgVSsLL41shYKPSAQ9dQ7sCc794hDsvjWZzyAzzAkkKKnrALKPp2ZQFmuLD0LJRE39mMjTOAOt96GR8LjAGLpX0FWFCy3HMDuGgdF/ahBLkfh89OH+7JQU7uxUmRXMARc3BPD98zohQX91Fg2auFe5GATjFgIdX2YOWd/4fdQsnJydnDZ29L8s6ymJYa2jBEwOJsE8Y1BKQ4h8i5yo1/sRMXQr9UBwczV+Az3FDE1MR5UzM7ZDhvJJbsPCcgF6hLxjpxw+g4ujbOScECktLfFWsYZ+sw3z53NL8lA5aDD64rJSVDfHVYVJADK0ukfty+3K/f4U59aWkxbgpuQvbM8Wc4z7nNeMeOEiFm5sYbT0LJcykgtyb72gBDyIBl5847T6Oee4UoTuwNbRiHW5OxOGzbtogxtA1y4PYKsuL46umza9di4e4f1sC4gJzOg6WHdTEXQMVN0tqXOYcMOVKQ+Y47TmWNjsxJfk8+wGTe2247RcSA5WtkoxxwwAG7PYtKKRYXp1WIgYWchgGaAAbWH9w3zu3H6mYJ7GnZ7hKyZMACkDBfeYWKxYVYlXjGQnl36nSQMF63bs1FP/fo0UK++26raLv+/dsKir1VqwaSk1Nd+Es7LDqvv76cNtyYrHEzyIE81HObMsV3Y3Pz5vWFOBfgCfhq1qyO5Ocfyjy+9TBmOZkZ21dPH8annrn1VmUgpkGDPOH7oEFHCOMzJzLyjL7TphXo7cz0BzAcmZP8nnyFsWgvBiwq29o43T4GLKnPGrTK3IALJ8E6gbSWDVgsGbA4Zfr0vihh54ZhZFBFXsECMKDAfRaLRx6ZjRL3xXCgiBkfN4bO+9hjc6hD6TsuIY2TCVL+vXq1AiRUgeua6FdZYNEAX+bFakI9UAEY+YACUAFapk7Nj+YSUplT9p60YJHS33IfBxa2JOdGb2LAQsDq3LPm/itzs0UXUAFaCL5FFqwvEXtYNmCxZMCCIm3XrqmzTRYZ4tnZAjDQZ8WKkXwPdC998sl6UUVcq1aW0w4gGDGifYWBRefcunWiE0QMxFQSWLBmBMbT4MIJ6j9qVIeKAEuq3pPzvtRaZruEDFgsWzZgsRQCYHEUbiIWFmI76BO0U4V4Dp6pwle3i9NO6ysKLMR18Pz++2c4YyF7JYEFl4/TTt8LcxHXggVG41WQpwLAkrL3pIU4H/rz14DFgMWyZQMWS6ECFlwTQYqc3UHEgkTri0sE5Yoiv/baEyIG6dJGA1GTCCw8jzjnhAldEolhcdoBR1g7mI93RpslS4bzOS5gSf57creB09+AxYDFsmUDFkuhApY2bRoGBWrqDh3d6RJUUJzEcBBEipKMuEsFiwTP2AmTRGBBwUeak9gWB1iwJMUCtgDZCOxlnYyp7hotBMDGAywpeU9aGFOtNwYsBiyWLRuwWAoTsBDkidJ16jmkjSBQti4DDJGUo56wylZilDrjBSnYrKyqWGKSCiyMh9WDeA4nnsYfdIubh4PuHBChXQxgUcjAneO8o3IuIQ34JY7GkTk178k9tI51GbAYsFi2bMBiKVTAsnHjOP7D0d0vvsKZJjzDPbR58wT+5Y9VQ60IbCH2nQnCeSK6wwZLBIrz1FN7C3Xr1o2lTTKBhcK5JLQBAIAoDrTjigFAxgcs8+YNpB3nzbA7hzgPDlqrkEuIM1no26dPa847AUZw6WCdYlcOlhfnna1aNYpzVFyZk/qe3GsMCDa2bc0GLJYtG7BYCh2wvP32Sj2cLfA5kIKVhTZaUNLHHdcj6AAzFDVWAt+9Q+ecM5lnKQEWyuWXHwt8IBdnlfAdi4qvHUCmQbIUrEfsLgJWKLFkA4Too/1xMQFLupVYZQQ+ADwFHFfm5L8nLcAKFh4DFgMWy5YNWCyFDVhUAapbJepNzZwBwrkksc754DkBuS++eKa2TUXBdaInzTqFgOGgINtvvtnCOuhbmfm42BCLS8y2v/56zl59T5zjwn83uMMMWAxYLFs2YLEUSmDh3A7iKjLozh6FKOTGReXclqxuGa0Le2FXlMbFGLAYsFi2bMBiKZTAovEPRUU9M05Ra5ArLhLAhVNn3WDhcJdXX10mHHZHEPD/sXfXwNGVURyHz9xsMnE33N3d3aVFuvQVDuXtq1iDa4+3uFa4NLi70yD7sgd3h73J9zxn/rjDx/7m7hIEi2BxTrCwnoMlP4+S/9lvvmWy1l6w82ubZKhktORThvyAcD59Wd+h8tMPTudfg/xhwSJYnBMsrJVgMRMsgsU5wYJgMRMszjnBgmAxwdIMgsU5wYJgMcEiWJwTLAgWM8EiWJwTLAgWEyyCxTknWARLXZ+aLwpmjVz+8ylYnHOCJQSLWfMnWJxzgmVDNt7ZkWtkZuOCxTknWBKAYHFOsAAgWJwTLACCxTknWBKAYHFOsACwa2elvqr2svM3z7n89vNtsOwb/wkAWlVVfXj8Gce3vez8vXPu+DOPL1VVfRoR/fGfAWD1770t5Jy76oGrStVTtSPisvhPATBcVdWzEzMTX/y1aHFOrMxuOvt5J1heiojpAOA/t2XVUz0XESXfHsr35DNerHtbvGWxnLd43s+XP73Lf2yW3z7ybaB8stLT6nk5v/3E/waA4c5Wv30vvpjZb+/bbydXebIC0D2tzvb0v2jo+s7urNR1Xe644478/ncvlmd3/Y/N9v028BMA+Bo5GSspv+9rfQAAggUAQLAAAIIFAECwAAAIFgBAsAAACJb/CQAgWAAABAsAIFgAAAQLAIBgAQAECwCAYAEABAsAgGABABAsAIBgAQAQLAAAggUAECwAAIIFABAsAACCBQBAsAAAggUAQLAAAAgWAECwAAAIFgBAsAAACJbx/H2Z/cHGA4CuESzf/v7Nfm8bb7zxwwFAtwmWuj618/s+7yczW1g46Pto2WmnnW6NbgJAsOSLUymX/GRmi4unl4goRx99dMnv77LLLjdFRCuaBgDBYoJlcXGxrK6ullarVbbddtvbI6I/mgYAwWKCJV133XWlv7+/bLHFFg808kkLAILFBEu64YYbSj5p2WSTTR5s5JMWAASLCZZ0yy23lHzSMjs7+2hETEfTACBYTLCk/Gd1eno6o+XJiBiOpgFAsJhgSffcc08ZHh4u4+PjzzbySQsAgsUES3r44YfL1NRUuxMuL0XEptE0AAgWEyzp6aefzg/htkdGRl6OiPloGgAEiwmWlNEyNzfXHhoaejMito2mAUCwmGBJzz//fNlmm23afX19H0bErtE0AAgWEyzp7bffzi/h3+7v738vIvaMpgFAsJhgSa+//nrZfffdv+zt7f0kIg4NANZjsAiWiy46oUxPD//uvmLnHGBlWYIwvEfPtq1r27Zt27Zt+wbPtm3bto1r9tuvk55kMnvnZDPH5/+Tyu70VGPZX6qr+5VXJlvfzp0rYNk2lhIlzjc9e1bO/fclwnife258jgIL+vvvv03VqlUPpaSkHBS0SJIkCVgKJLAMG1bbvg+NGhVj8k1on3461/q2a1cWy7axnHfeKaZNmzL5BFiC412zphPvZY4DCzpw4ICFlrS0tN3xdhrHJEmSJAFLAQQWFxmIYAIW3svcAha0Y8cO06hRo0Opqan74m11jhVGSZIkCVgELC+9NAnzrl94YaJ5442pZs+e9eaWWwbYtrZs6W5++215oC4+t9020Eyf3tT6XXddH/PLL8uSBhb6fPvt6Tbqw3LWTTf1N4cObfbuP/roKPrAeJ6wDca8eHFbO44bbugbGMfDD490y2A+e/DBEZQnHO9rr00xTZoUt+/l3XcPoY8cBxa0Z88e07FjR5aGaK91rLBJkiRJwCJgadasBOZd169fxE7SV155ljn++KPtI22deupx8bNC5nh+AMZZZ51oMjLS7NJTxYqXmLS0VHPiicdwLylgoU/GQG4NfdHmjh1rzb//rjE1a15pyypXvsxUr36FfV637jXc9+rPnt3ClpcqdYFt5+STj7Vjf+qpsZmNgz4pT+jXv391c/TR6bSNH+9rrgCLU6tWrQ7TXtx6xwqIJEmSBCwCFiZyoiQBI/oQBiyurotyPPPMOMqYwD2/MmUuNJdddob5669VPogBWrp2rZg0sND+uHENLIgQ2aC8e/dKAIMPvIiGACMDB9bgGn/6JPrCtSsDtBhjJGDJ/SWhoHr27OkiLZNjkiRJkoClAADLEe3xx0eHAQsRikCbwEmLFiW9a5Z/7r9/WEIAaNWqVLLAAoT4ygAhQGTEiDoB/yFDatkozIEDm8x33y3mNQX83n9/FmCWJ4ClVq1aQEuWWZEiRVyk5fa4nRKTJEmSBCz5GFjI9yDaEDAm+hBg8V2HlNMOfZBzQnTE5XvglyywsKzkKwOGaKt27auI7PjMLRMR+cHX9ctyFFu0gak//ljJvTwBLNlstWOSJElSgQYW5bBEABaWlojEOFDg3syZzXmeJLAk7pMkV9quWvVy6ic0lwTL0hWJwUAPkRfqEZ2ZO7dlrgLLN98sBFqyxXr1qiJgkSRJErCEScDCRAwQEOn44YclPj+Sc6MCi9vVw2tgx08yr52oDzt/SNKl/rvvznDj8C1VOQOwIgBLbhnfOQGLJEmSgCVEAhYX/WBLs8/nyy8XUB4VWBx4kNfCjqCAf9++1Wy7u3atIx8H6ODR53PnnYMZC/DCNdEXdhEFIiD4hAELuTH4EMURsEiSJEkClnwELJyX4vJLfvppqZ3MAYarrz6bJRkiL5GBBVu4sLXtp3fvqrZPkmjnz29FGYm33o4gojokBbONGYjhXBl2CJ1zzkn2rBj8JkxoaOtNndrE7jS6996hpkiRczNdEtq+vSf16JfzYvITsEiSJEkCFuWwbNrUzTujBGOiJ49k1Kh67hyVyMCCLVvWzuXKYLRNH77EYQDFnRfjjGiKOw/G7TpyybkYYycXhLGFAQtRmEsuOd0BmoBFkiRJErDkNwMagCKiH9nZDxGcDz+cDZjQ5xH9iPYQZQmeyusZu4fYXRRsJ9yI3OSpZaH/2bkHYEe2BI7DfZO+uamabKXHdmZt2/azbdu296nwbNu2ba1tc3zPnjO2g936vqpfBWP05F+dznTUYAHAYJEMFgCDxWCRwQKAwSIZLAAYLDJYADBYDBYZLAAYLFK7BwsABotksABgsMhgAcBgMVhksABgsEgGC0C7GSySwQKAwSKDZVkAYLAccsg30wtIq5LS3zmDZfkAGCxtSDJYlhmAwVLEPtvGpCIDwGABADBYAACDBQDAYAEAMFiWDQBgsAAAGCwAgMECAGCwAADkq2iw5BkAQBMUsRD7a2zACg6WYta3D7Eh2SoGAJDHwqx+G/vscg6WT8Z+OM/3Uc1WNQCARqNxdbwJ83RyLF/KYMljR8SmxkJqwoQJd2UAAE0ypFKpTN91113DpptuOjmNj66urhfi7baLGSxbxh6PhbXWWuvf6dul+/V6/QMZAEATz7K8MGTIkDBx4sTw9NNPh6FDh05MI2QxgyXUarWpt99+e0je+973hre85S1vZAAAzVSv19eKN+Hyyy8PyR//+Mc0QnrTcz/84Q9Dkm7T4/Hjx/f+8pe/DMn111+fngujRo3aJAMAaLK8KIp/fPWrXw3zmjp16kKPU7N985vfDPHb/aclH2kGABg5cuSF1Wo1pLMny+K3v/1temsoxLeSLs9aBABgTLlc7j3mmGPCsjj55JNnX9PSyFoFAGDw4MGvNRqNed72Wbz09QYOHPjjrJUAAGq12nbxJtx8881hSdInidLXK4pil6zFAACKarU6MV1MuyRrrrlmqFQqk9PXz1oNAKAoinPzPA9//etfw6Kk5+OoCX379r0saxMAgE/GwuIuvj3hhBNmX2z7xaxdAADi2ZNX3/ve9y7y4tsPfvCDoU+fPr/2f6+0GwCwayw8/vjjYV7PP/98SM/neb5/1mYAAEW5XJ6y6aabhnltueWWoVQqTe+Ii20BAHp6em6p1+u9//znP0MyceLE0L9//95qtXpv1kkAABffnn766SG5+OKLO+9iWwCA7u7u333kIx/pDdFnP/vZEB//qdMutgUAOHD2WZZ0Gzsi6zAAAI2urq5p8TbM6q0xACDKY++Mfbb9KQ6Wp+JtiLcvdMzPSx+MVbO2AKAWOz0vl/4Zb4OkxVculf4TOzfeH5C1DABjeirdP4+3Yd0vfyicf8gm4f4z95C0cOn4SMdJGi29PZX81+n4yZoOgFocKz8e1O9N09M/xuGZMyUtQ4+fv08YNrCYPmu0DMiaCoDTY2HFxopktKQzLVmWnZ01DQB5uVT6Rzq97cVnxZLS8VMqdf3bhbjNA/DOWHpP3gvPCial4yfLstQHs6YA4LPeDpJWrnT8zBosn80AMFgkgwXAYJFksAAYLJLBAoDBIhksAAaLJIMFwGCRDBYADBbJYAEwWCSDBQCDRTJYAAwWSQYLgMEiGSwAGCySwQJgsEgyWAAMFslgAcBgkQwWAINFMlgAMFgkgwXg/4LBstv6XwwDitoi+/A7xoStV/9U+NnNR7fl5/aW0YPDxt/46Cr5vh46e0+DwWAB+F9lsGz53U+mF4+QhskOa392Tv9l1xzYo4uBKPzZtm3btm3bRm3btm3b5t/og9pM757a9rzrUTJZnYvP906yq8e2w7dgznSWEaTc33ODaLp9eneP62j+e4g+SDAMccFCEARBkGDJj9Jq1W8o9Ax+kbdXhqpggQAjwTKMBQtBEARBgqU4Tgf+u2f2tPAF6vyEkOFueN5WvpPCB8TwhIOV1OvW9tYgzkb6TX1MabxuE8GSZCXI3FU+s8okgxa5cWb8uDW31+VdPrKN1wPyU6yFWsR4q39l/C8vYo7+Wj86s26IS7AQaGH31fze3I4xFb7fQW9cj3X9d2s9SbAQBEEQrUCCJcaUr+6QUb0tN1KTndizHvZD29ewY7vW4fmZ/Zua1Em3E8HhpPHjxrKLh7finJixY8aw6VMmwVcbh3Nk1iydB9+5A5vZkvmz2M4NyxBXJ1jMxF5ijOZ/5IUx2qgv9OZym/1NnDAOuZwAgmio9UE47N64vK6P+udHdqxlWWHq7a0b5oi5dbBXSOLDddTk+sEhtpnTJrOpkyeyMIM/XVxPEiwEQRAECRbsZQjWq2bvHIBny5k4+n1r27Zt27Zt27Zt27Zt27ZtZ+sUuubmnzc7+T9XnV9V15vJ7Qnu7tuc7XSS7cIAg1N3X5OJOQ0+6MDp5Sv2i9+stcSsQEAjkZWoAhNxC9gAAIAIk38DYgCTNRabJcrmm3ESwCa9ee2BfCeKkjZYZk76FZM/ERf6kSfhnrX3Ovil1685oHZJCCAAihoREUCCsRFR6klgATYYa2M5jbKJxxmFd1P7PgUWpZRSAksPjP/bZ1kl/IEPJuGtV52/S10k6hLt+PPxU/nO0g4gVJzUl513Wj6nt68/mHbSIVsuV4yctEABEMPEDrxEGf0jIlKbw/LqVftTlg7YbJnizimefXTL4T0FLB/cfBj1dHlXL16+L9Gd2vcpsCillBJYrj5iM/IvAAyWMZgo03pLz5EvSfAcf6Ii/LbVYlnjvjN2DH8mW6I1lxy8UdpxrYUjn4TlEZ6TV8J36i1EQFqhgAgEvoBQA3ZIDK4EFvJqKGPMmX+bPtUvCcV4ieSstsjM9D19dfcxte9TYClIKaWUOSwATEykpcmcqAYTc8EisfWyQzYmZyMmbCBln42Xis/44FPKTcHwyaGAJSYggM9ERwAr+l4JLCS/UsbyVykJN5J0exJYWN4CqMjhoa/US0SFvte+T4EFKaWUElgKSxI8I+LS2B1DGRN+u3pJpGViJkqQL60MP8wQASxEOKgPQMrrIAE1hwImeuolSsHBcpELUwEsAQrldokG8YyxtgOWWNZqsUaicG5Emxgv46L+5y/dO3+flSawKKWUElgoY2IGECLplkmXZFCWazJ/ckzwJ/8kgICll/CJZZxYEqI+kmlZLmn4kf9Bu9nkT3mcC1OIkJSM/BB8iXY0duZQfyG5lp1K9Kld7ggRE3b+5JDWSBSmbwAMf5aiV8BLh+9TYGknpZRSbmu+/pgteM6W5CgjQZYyclzYnUMC6UFbLEsZURl8KI8lpU9uOwJYYOImKsLSCJEX/LD4LRDyxZ1HsUMGGCgBS+S2UMdYowzfwRhjJxHtsE2bMiygh9waokAAB/2njHNT2tW58zqL4Md2avrLe0qTjz96l11CRJNYxmL3EeDBeTHsEBptxGE4e6bT9ymwtJNSSimBBVt5oRnxSSfuslqUHbntipGfggEQ266+YGtUgm3RcQYKRrSAfA78styTSPTFDyO6UMphwc7bb72AhU7GCIiMN8aIpZwcwIBoSrQLcMQ4ixa7pSKhFmOcx+6wCv3FWg+1YxszPmHAWJxDU/E+BZZ6KaWUwKIRNWGpiEm5hxMr5ezuKZ+TUvaNXTRlix0+ndSZb5Wmz4VxABDklMTzTo2+sovnv8CCKBNRFiJI9e9TYFFKKSWw9G9G0mosKWkCS78kpZQSWIzmkLtCngiTXeSiaAKLUkopgaVfMo7lZytxnI+iCSxKKaUEFk0TWJRSSmDRNIFFKaWUwKJpAotSSgksmqYJLEopJbBomsCilFKqfwEWbeqJxmSHUHzn3iGsd7XH4XX82Wl7msCilFICi8aR/o3j7rmwEOsdbR2/06r5zc717WkCi1JKCSwCS++0LVeZL4BF6w+BRSmllMDC7cLc48Mtx0zsFxywPjcLN3w4gfapC/dI3LHDJYJbrzp/uuyQjTmptt6vDCzctYM1fG49YRsuQ8S4FbpbfX/igt3jQkMOp6N/hfbCbjx2y7TruotSJ+1TVhojbTM22uXyx7hPSGDpxVJKKSWwcDngKCMMnbhFeNHZp0yzTDleGnCAAdLQQwzGs/BbaJbJEzciAxnTTzo2oMFvyENhoq70KwMLtzhjfMaXvvDPZo5pJkwzTj4unzkRt7bv3FzNrctxazOAkbWHATr0GT/uNeJztM8tzq1jBIC4rXnIwQeNW5uHH2aI9OpV+wssvVpKKaUEFiblCcYciQm5AQJM/GssNktjkuY97bzOIg0/Juy1lpi1wq8zYKHtwQcduHG3EFEM6j5r73Uq+l5cEioCC3caATuPnbdblHETM7BDrks+xv02WToiR9zsTBlwJLD0WimllBJYWEJhCSQvJxLRiGYwSQMYud+2qy8IILA8UuXXDlh+fuhEfFlO6lLP5ivNy26fzvpeASxERnh+wGbLdKlv+zUWSjz76JbDY4zDDjV4Fz/gael5phFYlFJKCSy9w/58/NR0+0nbpksO3ijtuNbCke/BZN4CLMUtwORw4EuuR41fO2DBB19+01N9rwAW8mB4fvPxW+dtkPfCM+AoxpjVn5ULLL1USimlBBaggGgB74DlECbcfTZeis85sLSemRJ29RGbxURf49cGWPCJBNme6nsFsFx04AY8LyX2AirRnz4MLAKLUkopgeW9Gw9JLL3MM8PEsdyBYSSQZsDSgIs8r+TFy/et8msHLOzcwfecfdYt7dAhx6STvlcAS0RRAKu8TaI3ER3qo8AisCillBJYYpJmOaRR/vb1BxeXhEiC/f7+4xu+c003URprlOGr/doAC4msRE7Y+dPw//3Rk8lPIXm3pu8Y+TCUU3cJWOgvANRIrs3GxPJTnwYWgUUppZTA8vo1ByTGzjbkT247IjGZsyQy6bijslWY6EXrZBy+L1+xH1ENEmApI/m1wq+zXULH7rBK7DaiDuoikRaoeP7Svav6jrGzCP+DtliWKE3eHsa5K/iQC0ObRHGi74dtvQI+AovAopRSAkvfsFN3XzPOKMGACJZv2NXDxP/jAyfEZMy235UXmjF8WXrh91FfB36dAgt2yJbLsR066iFCQ35Lbd8x4GO8MUYMyCm0hwE0RFOiTiI6HIDHM4FFYFFKKYGlL+8SYqswUYsobzMZc8AaJ70S1ajzqzd+y9kq5L5U9b1sbJmmzo7aJJITvprA0q9LKSWwaAEi3fbTBBallFICi8CiCSxKKSWwaEdvv3I6fqdVe5mfJrD8255d3NQWRXEcznP3h+schzPHaQAbUgZDirgztByawCvA3dZO7gh3/b7kV8I6+WcfAAwWyWABMFgkGSwABotksABgsEgGC4DBIhksABgsksECYLBIMlgADBbJYAHAYJEMFgCDRZLBAmCwSAYLAAaLZLAAGCySwXKHAKiNjqZGhm74sZaU7ic/WLLoHgDw/u3bNyuDPdnhzT7WktL9xB1txD19ju4JADm/haSbNT01fBRj5SBuaCwC4B59jw/u7L9f33aNluslY6Ws8PfOu7dvl+KO/kcA3LPqNFrSS0tfV/NO+iefxsvpJKX7GOjO9tPLSrSY7id6IAB8j3Jv3rxZT8Pl/CTl72Tq8V5WAHgfNUZtZyYpyw/8OwYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADHLTRwaEMaBo0AAAAASUVORK5CYII=)

---

### Creating application context

**Environments:**

* Standalone
* WEB
* JUnit
* etc.

**Special prefixes:**

* ClassPath
* FileSystem
* RelativePath
* AnnotationConfig

---

### Instantiate standalone context - example

```java
// create and configure beans
ApplicationContext context =
    new ClassPathXmlApplicationContext(new String[] {"services.xml", "daos.xml"});

// retrieve configured instance
UserService service = context.getBean("userService", UserService.class);

// use configured instance
List<String> userList = service.getUsernameList();
```

---

### Context Lifecycle
1. Load definitions
2. BeanFactoryPostProcessor
3. Instantiation
4. Property Injection
5. BeanPostProcessor
6. Ready to use

---

### Bean Lifecycle

1. Instantiate
2. Populate Properties
3. BeanNameAware#setBeanName()
4. BeanFactoryAware#setBeanFactory()
5. ApplicationContextAware#setApplicationContext()
6. Preinitialization BeanPostProcessors
7. InitializingBean#afterPropertiesSet()
8. Call custom init-method
9. Postinitialization BeanPostProcessors
10. Bean is ready to use

---

### Bean Lifecycle - destroy

When container is shut down

1. DisposableBean#destroy()
2. Call custom destroy-method

---

### Bean scopes

* simple: singleton (default), prototype
  ```xml
  <bean id="..." class="..." scope="prototype"> ... </bean>
  ```
* runtime: thread, custom (org.springframework.beans.factory.config.Scope)
* web-aware: request, session, global session, application

---

### XML based Configuration

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="userService" class="com.acme.UserServiceImpl">
        <property name="userDao" ref="userDao"/>
    </bean>

    <bean id="userDao" class="com.acme.UserDaoImpl">
        <property name="driverClassName" value="${jdbc.driverClassName}" />
        <property name="url" value="${jdbc.url}" />
        <property name="username" value="${jdbc.username}" />
        <property name="password" value="${jdbc.password}" />
    </bean>
</beans>
```

---

### Instantiating bean

A bean can be instantiated with:

1. Constructor
2. Static factory method
3. Instance factory method
4. FactoryBean

---

### Instantiating bean - Constructor

```xml
<bean id="userService" class="com.acme.UserServiceImpl" />
```

```java
public class UserServiceImpl implements UserService {

    public UserServiceImpl() { ... }
}

```

---

### Instantiating bean - Static method

```xml
<bean id="userService" class="com.acme.UserServiceImpl"
    factory-method="createInstance" />
```

```java
public class UserServiceImpl implements UserService {

    private UserServiceImpl() { ... }

    public static UserService createInstance() { ... }
}

```

---

### Instantiating bean - Factory method

```xml
<bean id="userServiceFactory" class="com.acme.UserServiceFactoryImpl"/>
<bean id="userService" factory-bean="userServiceFactory"
    factory-method="createInstance" />

```

```java
public class UserServiceFactory {

    public static UserService createInstance() { ... }
}

```

---

### Instantiating bean - Factory bean

```java
// org.springframework.beans.factory.FactoryBean
public interface FactoryBean<T> {
    T getObject() throws Exception;
    Class<?> getObjectType();
    boolean isSingleton();
}
```

```java
public class UserServiceFactoryBean implements FactoryBean<UserService>{
    public UserService getObject() {
        // create user service
    }

    public Class<Car> getObjectType() { return UserService.class; }

    public boolean isSingleton() { return false; }
}
```

```xml
<bean id="userService" class="com.acme.UserServiceFactoryBean"/>
```

---

### Dependency Injection variants

Major variants:

* Constructor-based
* Setter-based

---

### Constructor-based DI

Good practice to use constructor based DI for mandatory dependencies.
Supports immutability.

```xml
<bean id="userService" class="com.acme.UserServiceImpl">
    <constuctor-arg ref="userDao"/>
</bean>
```

```java
public class UserServiceImpl implements UserService {
    private final UserDao userDao;

    public UserService(UserDao userDao) {
        this.userDao = userDao;
    }
}

```

---

### Setter-based DI

For optional dependencies and default values.

```xml
<bean id="userService" class="com.acme.UserServiceImpl">
    <property name="userDao" ref="userDao"/>
</bean>
```

```java
public class UserServiceImpl implements UserService {
    private UserDao userDao;

    public setUserDao(UserDao userDao) {
        this.userDao = userDao;
    }
}

```

---

### Additional features

* bean definition inheritance

  ```xml
  <bean id="parent" abstract="true"> ... </bean>
  <bean id="service" parent="parent" class="com.acme.ServiceImpl"> ... </bean>
  ```

* Importing configuration files

  ```xml
  <import resouce="classpath:service-config.xml"/>
  ```
* Lazy initialization
  ```xml
  <bean id="service" class="com.acme.Service" lazy-init="true"> ... </bean>
  ```
* Force dependency initialization beforehand
  ```xml
  <bean id="service" class="com.acme.Service" depends-on="dao"> ... </bean>
  ```
* Autowiring

---

### Annotation Based Configuration

* An alternative to XML setup
* Annotation injections are performed before XML

**Basic configuration**

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd">

    <!-- looks for annotations on beans -->
    <context:annotation-config/>

    <!-- scan classes and registers bean definitions -->
    <context:component-scan base-package="com.acme" />

</beans>
```

---

### Basic annotations

Spring       | JSR 250         | JSR 330
------------ | --------------- | ---------
@Autowired   | @Resource       | @Inject
@Qualifier   |                 | @Named
@Component   |                 | @Named
@Scope       |                 | @Scope, @Singleton
@Required    |                 |
@Value       |                 |
@Lazy        |                 |
@DependsOn   |                 |
             | @PostConstruct  |
             | @PreDestory     |

---

### @Autowired

```java
@Component
public class UserServiceImpl implements UserService {

    @Autowired
    @Qualifier("userDao")
    private UserDao userDao;

    // ...
}
```

---

### @Resource

```java
@Component
public class UserServiceImpl implements UserService {

    @Resource(name = "userDao")
    private UserDao userDao;

    // ...
}
```

---

### @Autowired vs. @Resource

**@Autowired and @Inject**
* Matches by Type
* Restricts by Qualifiers
* Matches by Name

**@Resource**
* Matches by Name
* Matches by Type
* Restricts by Qualifiers (ignored if match is found by name)

More information in article: [blogs.sourceallies.com/2011/08/spring-injection-with-resource-and-autowired/](http://blogs.sourceallies.com/2011/08/spring-injection-with-resource-and-autowired/)

---

### @Value

```java
public class CurrencyService {

    @Value("${default.currency.code}")
    private String defaultCurrencyCode;

    // ...
}
```

---

### Basic annotations - continued

**Context:**
* @Scope
* @Bean
* @DependsOn
* @Lazy

**Transactional:**
* @Transactional

---

### Java based configuration

```java
// simple
new AnnotationConfigApplicationContext(ApplicationConfig.class);
```

```java
// programmatically
context = new AnnotationConfigApplicationContext();
context.register(ApplicationConfig.class);
context.refresh();
```

```java
// scanning
context = new AnnotationConfigApplicationContext();
context.scan("com.acme");
context.refresh();
```

---

### Approach to configurations
* XML: infrastructure beans
* Annotations: working beans, e.g. controllers

---

### Links
* [http://spring.io/](http://spring.io/)
* [Reference Documentation](http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/)

---

### Spring DI Alternatives
* [Google Guice](https://github.com/google/guice) - a lightweight dependency injection framework
* [Dagger](http://square.github.io/dagger/) - a fast dependency injector for Android and Java
* [PicoContainer](http://picocontainer.com)

---

## Thank you!
